
## 异常次数报警

目前是在客户端对同一异常做的去重处理，即指定时间段内只发送一次该异常报警。

对于次数报警，建议是再加一个异常计数器，针对同一时间段内的异常进行计数统计，当达到某一个数量时发送一个高等级的异常报警。同时，重置定时器和计数器。


## 异常等级

首先，异常无法进行同一分等级，例如，空指针异常在A系统里属于一般的错误，而在B系统里属于非常严重的错误。所以，目前计划全部交给监控项手动配置的方式去划分异常等级。

1. 监控系统添加一个常见异常的表格，用户在添加监控项时，可以勾选异常表中的某几项异常，并划分等级。

2. 另外，监控项再添加一个异常关键字的字段，用户可以编辑，指定只要异常信息里包含指定的异常关键字，即可区分出异常等级并报警。

3. 还有，用户在客户端主动发送报警时，可以增加一个异常等级的标识，服务端根据这个标识来区分异常等级。


## 系统健康检查

一般针对监控应用是否宕掉的方式，是在服务器上运行脚本来监控，但这种做法增加了运维成本。

建议是，在客户端使用心跳的方式，定时发送一个请求到监控系统。监控系统则定时检查客户端的心跳是否正常，若不正常则发送报警。
